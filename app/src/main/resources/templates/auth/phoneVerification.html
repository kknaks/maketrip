<!DOCTYPE html>
<html>
<head data-th-replace="~{header :: head}"></head>
<body>

<header data-th-replace="~{header :: #page-header}"></header>


<h2>전화번호 등록</h2>
<p>서비스 이용을 위해 전화번호를 등록해 주세요.</p>

<div data-th-if="${error}" class="alert alert-danger" data-th-text="${error}"></div>

<form id="phoneForm" data-th-action="@{/auth/phone-verification}" method="post" onsubmit="combinePhoneNumber()">
  <input type="hidden" name="email" data-th-value="${email}">
  <input type="hidden" name="phoneNumber" id="combinedPhoneNumber">

  <div class="form-group">
    <label for="phoneNumber1">전화번호</label>
    <div>
      <input type="text"
             class="form-control"
             id="phoneNumber1"
             name="phoneNumber1"
             maxlength="3"
             placeholder="010"
             required>
      <span>-</span>
      <input type="text"
             class="form-control"
             id="phoneNumber2"
             name="phoneNumber2"
             maxlength="4"
             placeholder="4444"
             required>
      <span>-</span>
      <input type="text"
             class="form-control"
             id="phoneNumber3"
             name="phoneNumber3"
             maxlength="4"
             placeholder="4444"
             required>
    </div>
    <small class="form-text text-muted">형식: 010-1234-5678</small>
  </div>

  <button type="submit" class="btn btn-primary">등록</button>
</form>

<script>
  function combinePhoneNumber() {
    const phone1 = document.getElementById('phoneNumber1').value;
    const phone2 = document.getElementById('phoneNumber2').value;
    const phone3 = document.getElementById('phoneNumber3').value;
    const combined = `${phone1}-${phone2}-${phone3}`;
    document.getElementById('combinedPhoneNumber').value = combined;
  }
</script>

</body>
</html>
